<div class="card mt-3">
  <p-table
    class="custom-table m-auto"
    [paginator]="true"
    [totalRecords]="totalRecords"
    (onPageChange)="onClick($event)"
    [rowsPerPageOptions]="[5, 10]"
    [value]="userData | filterStatus : filteredStatus"
    [rows]="10"
    [first]="first"
    (onPage)="onClick($event)"
  >
    <ng-template #caption>
      <div
        class="flex justify-content-between align-items-center mx-auto mb-6 lg:flex-row flex-column gap-5"
      >
        <h2>All bookings</h2>

        <ul class="button-group ml-auto lg:ml-0">
          <li>
            <button
              (click)="applyFilter('')"
              class="btn-g"
              [class.active]="!filteredStatus"
            >
              All
            </button>
          </li>
          <li>
            <button
              (click)="applyFilter('checkedout')"
              class="btn-g"
              [class.active]="filteredStatus === 'checkedout'"
            >
              Checked Out
            </button>
          </li>
          <li>
            <button
              (click)="applyFilter('checkedin')"
              class="btn-g"
              [class.active]="filteredStatus === 'checkedin'"
            >
              Checked In
            </button>
          </li>
          <li>
            <button
              (click)="applyFilter('unconfirmed')"
              class="btn-g"
              [class.active]="filteredStatus === 'unconfirmed'"
            >
              Unconfirmed
            </button>
          </li>
        </ul>
      </div>
    </ng-template>

    <ng-template #header>
      <tr>
        <th>Cabin</th>
        <th>Guest</th>
        <th>Dates</th>
        <th>Status</th>
        <th>Amount</th>
      </tr>
    </ng-template>

    <ng-template pTemplate="body" let-user>
      <tr>
        <td>{{ user.category }}</td>
        <td>
          {{ user.name }}
          <p class="email">{{ user.userEmail }}</p>
        </td>
        <td>
          <p>{{ user.userRegTime }}</p>
          <p class="date">{{ user.date }}</p>
        </td>
        <td>
          <p-tag
            [value]="user.inventoryStatus"
            [severity]="getSeverity(user.inventoryStatus)"
          ></p-tag>
        </td>
        <td>
          <span class="amount">
            {{ user.price | currency : "USD" }}
          </span>
        </td>
      </tr>
    </ng-template>

    <ng-template #footer>
      <tr class="footer">
        <td colspan="6">
          In total there are {{ userData ? userData.length : 0 }} userData.

          <ul class="btn-p">
            <li>
              <button
                class="tabel-btn"
                (click)="goToPrev()"
                [disabled]="isFirstPage()"
              >
                <i class="pi pi-chevron-left"></i> Previous
              </button>
            </li>
            <li>
              <button
                class="tabel-btn"
                (click)="goToNext()"
                [disabled]="isLastPage()"
              >
                Next <i class="pi pi-chevron-right"></i>
              </button>
            </li>
          </ul>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
